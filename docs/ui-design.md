# 小说写作系统 UI 设计稿（信息架构与页面流程）

## 整体信息架构
- 顶部导航：左侧 Logo/项目切换，中间模式切换（世界观/角色/大纲/写作/审稿），右侧 AI 模型选择、作者偏好方案切换、用户设置。
- 左侧导航：以项目为中心的工程树，包含项目概览（仪表盘）、世界观（设定/势力/地点/时间线）、角色（列表/关系图）、大纲（卷/篇/章树）、章节写作（当前章/草稿箱）、伏笔与线索（列表、剧情时间线）、AI 工具箱（Prompt 模板、批量润色/查重）、版本与历史（章节版本、大纲变更日志）。

## 核心页面：章节写作工作台（Chapter Studio）
三栏布局，确保“写作在中间、资料在左、AI 在右”。
1. 中间正文编辑区
   - 大型富文本/Markdown 编辑器，段落侧浮动 AI 操作（✨ 一键润色、➕ 续写、🎭 情绪改写）。
   - 支持 AI 扫描当前段落与设定冲突高亮，下划线提示。
   - 顶部条展示章节目标、进度（已写/预计字数）、节奏评估（偏慢/正常/偏快，AI 实时给出）。
2. 右侧 AI 面板（Tabs）
   - **本章助手**：展示 AI Writer Loop 步骤（生成骨架→三版本初稿→人工修改→风格统一），按步骤提供“生成骨架”“生成三个初稿”“统一润色”等按钮。
   - **对话模式**：聊天窗口自动带入本章内容与设定，提供快捷按钮（反转点创意、毒舌版对话等）。
   - **诊断 & 建议**：角色 OOC 句子列表、节奏曲线、重复桥段检测。
   - **备选片段库**：存放未采用的桥段/对话，一键插入正文。
3. 左侧上下文/资料侧栏
   - 本章大纲（展开即见三段式结构）。
   - 出场角色卡片（头像+一句话特征+当前状态）。
   - 相关世界观条目（地点/势力）。
   - 伏笔提示（本章需埋/需回收的线索）。
   - 历史版本快捷回滚。

## 页面与流程映射
1. **世界观工作台**
   - 左：世界观结构树（设定/势力/地点/时间线）。
   - 中：选中条目的属性表单（名称、类型、简介、Markdown 细节）。
   - 右：AI 助手（生成世界观骨架、扩写势力矛盾、自动生成地名）；含时间线视图、势力关系图。
2. **角色管理页**
   - 列表含名字/阵营/类型/出场章节数/当前状态；右侧详情 Tab（基本信息、成长路线、关系网、角色爽点、出场记录）。
   - 右侧 AI 面板：人格一致性检查、经典台词风格生成、重大事件典型反应生成。
3. **大纲视图**
   - 左：卷/篇/章树形结构，节点状态与进度条。
   - 中：选中节点详情（卷目标、篇冲突、章钩子与爽点），可直接编辑。
   - 右：AI 操作（按角色线生成大纲、重排章节增强节奏、基于最近内容建议后续走向）。
4. **写作模式中的 AI Writer Loop Stepper**
   - Step 1 骨架生成（可重生成）。
   - Step 2 三版本初稿（爽文/剧情/情绪版，支持预览/插入/拆分插入）。
   - Step 3 人工创作提示（不会覆盖文本）。
   - Step 4 风格统一润色（强度：轻微/中等/大改）。
5. **伏笔看板**
   - 看板列：已埋、提醒（待回收）、已挖、失效。
   - 卡片字段：标题、埋设位置、预期回收区间、实际回收位置、关联角色/事件；顶部剧情时间线标记伏笔点。
   - 右侧 AI：未回收伏笔检查、回收方案推荐。
6. **质量检查模式**
   - 汇总报告：角色 OOC、世界观冲突、重复桥段、按卷/篇的节奏曲线，界面风格类似代码质量报告。

## 典型用户流程（前端体验）
1. 新建项目：输入题材/世界想法/主角概念 → “用 AI 初始化世界观 & 大纲”跳转世界观页并自动生成骨架与首卷建议。
2. 调整世界观/角色后进入大纲视图，完善卷/篇/章结构。
3. 选择第 1 章进入章节工作台：按 Writer Loop 生成骨架、三版初稿→人工修改→统一润色。
4. 写完弹出提示：是否把新名词加入设定库；自动更新角色出场记录、世界状态。

## UI 风格与可用性
- 风格定位：写作 IDE + 笔记应用，背景安静、对比度高；支持深色模式。
- 交互形态：折叠面板/Tab、卡片展示多版本内容、步骤条可视化流程；提供键盘快捷键（如 Ctrl+Enter 触发当前 AI 操作）。
